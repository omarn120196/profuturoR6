<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página 05 | I4L</title>

</head>

<body>
    <img class="elementos" id="titulo" src="./img/pagina05/titulo.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="instrucciones" src="./img/pagina05/instrucciones.png" data-posX="0" data-posY="0" alt="">

    <img class="elementos" id="pregunta1" src="./img/pagina05/pregunta01.png" data-posX="200" data-posY="200" alt="">
    <img class="elementos" id="v1" data-respuesta="bien" src="./img/pagina05/btnVerdadero.png" data-posX="200" data-posY="400" alt="">
    <img class="elementos" id="f1" data-respuesta="mal" src="./img/pagina05/btnFalso.png" data-posX="600" data-posY="400" alt="">
    
    <img class="elementos" id="pregunta2" src="./img/pagina05/pregunta02.png" data-posX="200" data-posY="200" alt="">
    <img class="elementos" id="v2" data-respuesta="mal" src="./img/pagina05/btnVerdadero.png" data-posX="200" data-posY="400" alt="">
    <img class="elementos" id="f2" data-respuesta="bien" src="./img/pagina05/btnFalso.png" data-posX="600" data-posY="400" alt="">
    
    <img class="elementos" id="pregunta3" src="./img/pagina05/pregunta03.png" data-posX="100" data-posY="200" alt="">
    <img class="elementos" id="v3" data-respuesta="bien" src="./img/pagina05/btnVerdadero.png" data-posX="200" data-posY="400" alt="">
    <img class="elementos" id="f3" data-respuesta="mal" src="./img/pagina05/btnFalso.png" data-posX="600" data-posY="400" alt="">
    
    <img class="elementos" id="pregunta4" src="./img/pagina05/pregunta04.png" data-posX="200" data-posY="200" alt="">
    <img class="elementos" id="v4" data-respuesta="bien" src="./img/pagina05/btnVerdadero.png" data-posX="200" data-posY="400" alt="">
    <img class="elementos" id="f4" data-respuesta="mal" src="./img/pagina05/btnFalso.png" data-posX="600" data-posY="400" alt="">
    
    <img class="elementos" id="pregunta5" src="./img/pagina05/pregunta05.png" data-posX="100" data-posY="200" alt="">
    <img class="elementos" id="v5" data-respuesta="bien" src="./img/pagina05/btnVerdadero.png" data-posX="200" data-posY="400" alt="">
    <img class="elementos" id="f5" data-respuesta="mal" src="./img/pagina05/btnFalso.png" data-posX="600" data-posY="400" alt="">

    <img class="elementos" id="retroPositiva" src="./img/pagina05/retroPositiva.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="retroNegativa" src="./img/pagina05/retroNegativa.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="btnReintentar" src="./img/pagina05/btnReintentar.png" data-posX="450" data-posY="445" alt="">

    <!-- Script de la página -->
    <script type="module">
        import { aplicacion } from './js/app.js';
        import { animacionEntrada, animacionSalida, parpadea } from './js/animaciones.js';
        import { cargando } from './js/funciones.js';

        jQuery(function ($) {

            // Cargar Audios------------------------------------------------------
            const audio = [
                new Audio('./audios/R6_05_1.mp3'),
                new Audio('./audios/R6_05_2.mp3'),
                new Audio('./audios/R6_05_3.mp3'),
                new Audio('./audios/s_bien.mp3'), //3
                new Audio('./audios/s_mal.mp3'), //4
                new Audio('./audios/R6_05_4.mp3'),
                new Audio('./audios/R6_05_5.mp3'),
                new Audio('./audios/R6_05_6.mp3'),
                new Audio('./audios/R6_05_7.mp3'),
                new Audio('./audios/R6_05_8.mp3'),
            ]

            //Crear Variables-----------------------------------------------------
            const titulo = $('#titulo');
            const instrucciones = $('#instrucciones');
            const retroPositiva = $('#retroPositiva');
            const retroNegativa = $('#retroNegativa');
            const reintentar = $('#btnReintentar');

            let preguntaActual = 1
            let puntos = 0;

            //Iniciar contenido de la página--------------------------------------
            cargando(iniciarPagina);

            function iniciarPagina() {
                aplicacion.reproducirAudio(audio[0], verPregunta1, 1000);
                animacionEntrada(titulo, 'izquierda-derecha', 1, 1);
                animacionEntrada(instrucciones, 'izquierda-derecha', 1, 1);
            }

            function verPregunta1() {
                const pregunta = $('#pregunta1');
                const resV = $('#v1');
                const resF = $('#f1');

                resV.css('cursor', 'pointer');
                resF.css('cursor', 'pointer');

                aplicacion.reproducirAudio(audio[5], clicRespuesta, 1000);
                animacionEntrada(pregunta, 'arriba-abajo', 1, .8);
                animacionEntrada(resV, 'derecha-izquierda', 1, 1.5);
                animacionEntrada(resF, 'derecha-izquierda', 1, 2);

                function clicRespuesta(){
                    resV.click(function () {
                        verificar(resV, 1);
                    });

                    resF.click(function () {
                        verificar(resF, 2);
                    });
                }

                function verificar(respuesta, inciso) {
                    const evaluar = respuesta.data('respuesta');

                    if (evaluar == 'bien') {
                        aplicacion.reproducirAudio(audio[3], ocultarPregunta, 1000);
                        puntos++;
                    }
                    else {
                        aplicacion.reproducirAudio(audio[4], ocultarPregunta, 1000);
                    }
                }

                function ocultarPregunta() {
                    animacionSalida(pregunta, 'abajo-arriba', 1, .5);
                    animacionSalida(resV, 'derecha-izquierda', 1, 1);
                    animacionSalida(resF, 'derecha-izquierda', 1, 1.5);


                    setTimeout(() => {

                        pregunta.remove();
                        resV.remove();
                        resF.remove();

                        verPregunta2();
                    }, 4000)
                }
            }

            function verPregunta2() {
                const pregunta = $('#pregunta2');
                const resV = $('#v2');
                const resF = $('#f2');

                resV.css('cursor', 'pointer');
                resF.css('cursor', 'pointer');

                aplicacion.reproducirAudio(audio[6], clicRespuesta, 1000);
                animacionEntrada(pregunta, 'arriba-abajo', 1, .8);
                animacionEntrada(resV, 'derecha-izquierda', 1, 1.5);
                animacionEntrada(resF, 'derecha-izquierda', 1, 2);

                function clicRespuesta(){
                    resV.click(function () {
                        verificar(resV, 1);
                    });

                    resF.click(function () {
                        verificar(resF, 2);
                    });
                }

                function verificar(respuesta, inciso) {
                    const evaluar = respuesta.data('respuesta');

                    if (evaluar == 'bien') {
                        aplicacion.reproducirAudio(audio[3], ocultarPregunta, 1000);
                        puntos++;
                    }
                    else {
                        aplicacion.reproducirAudio(audio[4], ocultarPregunta, 1000);
                    }
                }

                function ocultarPregunta() {
                    animacionSalida(pregunta, 'abajo-arriba', 1, .5);
                    animacionSalida(resV, 'derecha-izquierda', 1, 1.5);
                    animacionSalida(resF, 'derecha-izquierda', 1, 2);


                    setTimeout(() => {

                        pregunta.remove();
                        resV.remove();
                        resF.remove();

                        verPregunta3();
                    }, 4000)
                }
            }

            function verPregunta3() {
                const pregunta = $('#pregunta3');
                const resV = $('#v3');
                const resF = $('#f3');

                resV.css('cursor', 'pointer');
                resF.css('cursor', 'pointer');

                aplicacion.reproducirAudio(audio[7], clicRespuesta, 1000);
                animacionEntrada(pregunta, 'arriba-abajo', 1, .8);
                animacionEntrada(resV, 'derecha-izquierda', 1, 1.5);
                animacionEntrada(resF, 'derecha-izquierda', 1, 2);

                function clicRespuesta(){
                    resV.click(function () {
                        verificar(resV, 1);
                    });

                    resF.click(function () {
                        verificar(resF, 2);
                    });
                }

                function verificar(respuesta, inciso) {
                    const evaluar = respuesta.data('respuesta');

                    if (evaluar == 'bien') {
                        aplicacion.reproducirAudio(audio[3], ocultarPregunta, 1000);
                        puntos++;
                    }
                    else {
                        aplicacion.reproducirAudio(audio[4], ocultarPregunta, 1000);
                    }
                }

                function ocultarPregunta() {
                    animacionSalida(pregunta, 'abajo-arriba', 1, .5);
                    animacionSalida(resV, 'derecha-izquierda', 1, 1.5);
                    animacionSalida(resF, 'derecha-izquierda', 1, 2);


                    setTimeout(() => {

                        pregunta.remove();
                        resV.remove();
                        resF.remove();

                        verPregunta4();
                    }, 4000)
                }
            }

            function verPregunta4() {
                const pregunta = $('#pregunta4');
                const resV = $('#v4');
                const resF = $('#f4');

                resV.css('cursor', 'pointer');
                resF.css('cursor', 'pointer');

                aplicacion.reproducirAudio(audio[8], clicRespuesta, 1000);
                animacionEntrada(pregunta, 'arriba-abajo', 1, .8);
                animacionEntrada(resV, 'derecha-izquierda', 1, 1.5);
                animacionEntrada(resF, 'derecha-izquierda', 1, 2);

                function clicRespuesta(){
                    resV.click(function () {
                        verificar(resV, 1);
                    });

                    resF.click(function () {
                        verificar(resF, 2);
                    });
                }
                
                function verificar(respuesta, inciso) {
                    const evaluar = respuesta.data('respuesta');

                    if (evaluar == 'bien') {
                        aplicacion.reproducirAudio(audio[3], ocultarPregunta, 1000);
                        puntos++;
                    }
                    else {
                        aplicacion.reproducirAudio(audio[4], ocultarPregunta, 1000);
                    }
                }

                function ocultarPregunta() {
                    animacionSalida(pregunta, 'abajo-arriba', 1, .5);
                    animacionSalida(resV, 'derecha-izquierda', 1, 1.5);
                    animacionSalida(resF, 'derecha-izquierda', 1, 2);


                    setTimeout(() => {

                        pregunta.remove();
                        resV.remove();
                        resF.remove();

                        verPregunta5();
                    }, 4000);
                }
            }

            function verPregunta5() {
                const pregunta = $('#pregunta5');
                const resV = $('#v5');
                const resF = $('#f5');

                resV.css('cursor', 'pointer');
                resF.css('cursor', 'pointer');

                aplicacion.reproducirAudio(audio[9], clicRespuesta, 1000);
                animacionEntrada(pregunta, 'arriba-abajo', 1, .8);
                animacionEntrada(resV, 'derecha-izquierda', 1, 1.5);
                animacionEntrada(resF, 'derecha-izquierda', 1, 2);

                function clicRespuesta(){
                    resV.click(function () {
                        verificar(resV, 1);
                    });

                    resF.click(function () {
                        verificar(resF, 2);
                    });
                }
                
                function verificar(respuesta, inciso) {
                    const evaluar = respuesta.data('respuesta');

                    if (evaluar == 'bien') {
                        aplicacion.reproducirAudio(audio[3], ocultarPregunta, 1000);
                        puntos++;
                    }
                    else {
                        aplicacion.reproducirAudio(audio[4], ocultarPregunta, 1000);
                    }
                }

                function ocultarPregunta() {
                    animacionSalida(pregunta, 'abajo-arriba', 1, .5);
                    animacionSalida(resV, 'derecha-izquierda', 1, 1.5);
                    animacionSalida(resF, 'derecha-izquierda', 1, 2);


                    setTimeout(() => {

                        pregunta.remove();
                        resV.remove();
                        resF.remove();

                        evaluar();
                    }, 4000)
                }
            }

            function evaluar(){
                if(puntos == 5){
                    aplicacion.reproducirAudio(audio[1], terminaPagina, 1000);
                    animacionEntrada(retroPositiva, 'arriba-abajo', 1, .8);

                    function terminaPagina(){
                        aplicacion.terminaPantalla();
                    }
                } else{
                    aplicacion.reproducirAudio(audio[2], nuevoIntento, 1000);
                    animacionEntrada(retroNegativa, 'arriba-abajo', 1, .8);

                    function nuevoIntento() {
                        parpadea(reintentar);
                        reintentar.click(function () {
                            TweenMax.killTweensOf(reintentar);
                            aplicacion.recargarPag();
                        });
                    }
                }
            }
        });
    </script>

    <!-- Termina Script -->
</body>

</html>